<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>1-openvpn-server-base.md - Grip</title>
  <link rel="icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAKCgr/FRUX/xYWGP8YGBr/GRkb/xsbHP8dHR7/Hh4f/x4eIP8fHyD/ICAh/yMjJP8kJCX/JiYo/ygoKv8pKSr/LCwu/y0tLv80NDT/QUFC/0ZGR/9MTE7/UFBR/1JSUv9bW1v/XFxc/2BgYP9hYWP/aGhp/2xsbP9ycnL/d3d3/3l5e/98fHz/f3+A/2dn/P9z3a//cNX8/4CAgP+Xl5f/nZ2e/56en/+fn5//n5+h/6amp/+rq6v/rKys/7CvsP+zs7T/uLi5/7u7u/+8vLz/wMDA/8fHx//Kysr/zc3N/9HR0f/d3d3/3t7e/+Xl5f/q6ur/6+vr/+3t7f/z8/P/9fX1//b29v/39/f/+Pj4//n5+f/6+vr/+/v7//z8/P/9/f3//v7+//////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/NCYmJiYmJiYmJiYmJiYmNCZKSkpKSkpKSkpKSkpKSiYmSkpKRisdRkMbMklKSkomJkpKSSEiNUhEEQwpSUpKJiZKSi8LHhhAPAwBDDZKSiYmSkoWACA7SEc6HAEaSkomJkpKBxI/SkpKSj4ICkpKJiZKSgUTR0pKSkpGDwZKSiYmSkoTED1KSkpKOQQVSkomJkpKKgowMy4sNycIMUpKJiZKSkEZDgkDAgsNH0VKSiYmSkpKQigUBgkXLUhKSkomJkpKSkpKSkpKSkpKSkpKJiYmJiYmJiYmJiYmJiYmJiYmIyUkNDQ0NDQ0NDQ0NDQmOCYmJiYmJiYmJiYmJiYmOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=" />
  <link rel="stylesheet" href="../../style.css" />
</head>
<body>
  <div class="page">
    <div id="preview-page" class="preview-page" data-autorefresh-url="">

    

      <div role="main" class="main-content">
        <div class="container new-discussion-timeline experiment-repo-nav">
          <div class="repository-content">
            <div id="readme" class="readme boxed-group clearfix announce instapaper_body md">
              
              <article class="markdown-body entry-content" itemprop="text" id="grip-content">
                <h1>
<a id="user-content-configuração-básica-de-segurança-em-servidor-debian-9" class="anchor" href="#configura%C3%A7%C3%A3o-b%C3%A1sica-de-seguran%C3%A7a-em-servidor-debian-9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuração Básica de Segurança em Servidor Debian 9</h1>
<p>O objetivo deste tutorial é criar uma camada básica de segurança em servidor.</p>
<h4>
<a id="user-content-índice" class="anchor" href="#%C3%ADndice" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Índice</h4>
<ol>
<li><a href="#passo-1">Criando um  Usuário Administrador</a></li>
<li><a href="#passo-2">Criando um Firewall Básico</a></li>
<li><a href="#passo-3">Restringindo o Acesso SSH</a></li>
</ol>
<hr>
<h2>
<a id="user-content-passo-1" class="anchor" href="#passo-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Passo 1:</h2>
<h2>
<a id="user-content-criando-um--usuário-administrador" class="anchor" href="#criando-um--usu%C3%A1rio-administrador" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Criando um  Usuário Administrador</h2>
<blockquote>
<p>O procedimento inicial deve ser feito através do usuário <code>root</code>.</p>
</blockquote>
<p>Primeiramente, deve ser instalado o comando <code>sudo</code>.</p>
<pre><code># apt install sudo
</code></pre>
<p>Após a instalação, criar um usuário não <code>root</code> com privilégios administrativos no sistema.</p>
<pre><code># adduser administrador
</code></pre>
<p>Para dar privilégios administrativos ao usuário criado, adicione-o ao grupo <code>sudo</code>:</p>
<pre><code># usermod -aG sudo administrador
</code></pre>
<p>Com o usuário criado e com privilégios no sistema, devemos usá-lo daqui em diante.</p>
<pre><code># su - administrador
</code></pre>
<h2>
<a id="user-content-passo-2" class="anchor" href="#passo-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Passo 2:</h2>
<h2>
<a id="user-content-criando-um-firewall-básico" class="anchor" href="#criando-um-firewall-b%C3%A1sico" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Criando um Firewall Básico</h2>
<p>Instale o pacote <code>ufw</code>.</p>
<pre><code>$ sudo apt install ufw
</code></pre>
<p>Habilite a conexão SSH no recém instalado firewall.</p>
<pre><code>$ sudo ufw allow OpenSSH
</code></pre>
<p>Feito isso, habilite o deamon do firewall.</p>
<pre><code>$ sudo ufw enable
</code></pre>
<p>Neste ponto, após habilitar o firewall, <strong>toda conexão no servidor está sendo bloqueada, exceto SSH</strong> devido à configuração anterior. Sempre que for colocar um novo serviço em execução que precise de conexão remota, adicione a devidade regra no firewall <code>ufw</code>.</p>
<h2>
<a id="user-content-passo-3" class="anchor" href="#passo-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Passo 3:</h2>
<h2>
<a id="user-content-restringindo-o-acesso-ssh" class="anchor" href="#restringindo-o-acesso-ssh" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Restringindo o Acesso SSH</h2>
<p>O acesso SSH deve ser permitido somente ao administrador. Por isso, abra as configurações de <code>sshd</code>.</p>
<pre><code>$ sudo nano /etc/ssh/sshd_config
</code></pre>
<p>Adicione a seguinte linha no final do arquivo:</p>
<pre><code>AllowUsers administrador
</code></pre>
<p>Salve e feche o arquivo. Então reinicie o serviço SSH.</p>
<pre><code>$ sudo systemctl restart sshd
</code></pre>
<p>Agora somente o usuário administrador pode acessar ao servidor remotamente. Se for preciso liberar o acesso a outro usuário, deve ser adicionado o <code>username</code> do mesmo em <code>AllowUsers</code>, separado somente por espaços entre os nomes.</p>
<blockquote>
<p>PRONTO!</p>
</blockquote>
<h3>
<a id="user-content-referências" class="anchor" href="#refer%C3%AAncias" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Referências</h3>
<ul>
<li>
<p><a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-9" rel="nofollow">https://www.digitalocean.com/community/tutorials/initial-server-setup-with-debian-9</a></p>
</li>
<li>
<p><a href="https://www.ostechnix.com/allow-deny-ssh-access-particular-user-group-linux/" rel="nofollow">https://www.ostechnix.com/allow-deny-ssh-access-particular-user-group-linux/</a></p>
</li>
</ul>

              </article>
            </div>
          </div>
        </div>
      </div>

    

  </div>
  <div>&nbsp;</div>
  </div>
  <script src="../../script.js"></script>
</body>
</html>